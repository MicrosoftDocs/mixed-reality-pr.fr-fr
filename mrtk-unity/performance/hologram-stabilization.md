---
title: stabilisation d’hologramme
description: Performances des hologrammes dans des conditions d’environnement et de fréquence d’images différentes.
author: keveleigh
ms.author: kurtie
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, réalité mixte, développement, MRTK, suivi de l’environnement, TMP,
ms.openlocfilehash: 4ea3f62153676154188584221c83ac97b5589e05
ms.sourcegitcommit: 3e36b2fbbcc250c49aaf8ca1b6133cf0e9db69fa
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/16/2021
ms.locfileid: "107528727"
---
# <a name="hologram-stabilization"></a><span data-ttu-id="39246-104">Stabilisation d’hologramme</span><span class="sxs-lookup"><span data-stu-id="39246-104">Hologram stabilization</span></span>

## <a name="performance"></a><span data-ttu-id="39246-105">Performances</span><span class="sxs-lookup"><span data-stu-id="39246-105">Performance</span></span>

<span data-ttu-id="39246-106">Pour que la plateforme et le périphérique de réalité mixte sous-jacents produisent les meilleurs résultats, il est important d’effectuer des fréquences d’images.</span><span class="sxs-lookup"><span data-stu-id="39246-106">In order for the underlying mixed reality platform and device to produce the best results, it is important to achieve performing frame rates.</span></span> <span data-ttu-id="39246-107">La fréquence d’images cible (par exemple : 60 FPS ou 90 FPS) varie selon les plateformes et les appareils.</span><span class="sxs-lookup"><span data-stu-id="39246-107">The target framerate (ex: 60 FPS or 90 FPS) will vary across platforms and devices.</span></span> <span data-ttu-id="39246-108">Toutefois, les applications de réalité mixte qui respectent la fréquence d’images comporteront des hologrammes stables, ainsi qu’un suivi efficace des têtes, le suivi des mains et bien plus encore.</span><span class="sxs-lookup"><span data-stu-id="39246-108">However, mixed reality applications meeting framerate will have stable holograms as well as efficient head tracking, hand tracking and more.</span></span>  

## <a name="environment-tracking"></a><span data-ttu-id="39246-109">Suivi de l’environnement</span><span class="sxs-lookup"><span data-stu-id="39246-109">Environment tracking</span></span>

<span data-ttu-id="39246-110">Le rendu holographique stable s’appuie fortement sur le suivi des poses par la plateforme & appareil.</span><span class="sxs-lookup"><span data-stu-id="39246-110">Stable holographic rendering heavily relies on head-pose tracking by the platform & device.</span></span> <span data-ttu-id="39246-111">Unity restitue la scène chaque image de la caméra est estimée et fournie par la plateforme sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="39246-111">Unity will render the scene every frame from the camera pose estimated and supplied by the underlying platform.</span></span> <span data-ttu-id="39246-112">Si ce suivi ne suit pas correctement le mouvement de la tête réelle, les hologrammes apparaîtront mal.</span><span class="sxs-lookup"><span data-stu-id="39246-112">If this tracking does not correctly follow actual head movement, then holograms will appear visually inaccurate.</span></span> <span data-ttu-id="39246-113">Ceci est particulièrement évident et important pour les appareils AR comme HoloLens, où les utilisateurs peuvent associer des hologrammes virtuels au monde réel.</span><span class="sxs-lookup"><span data-stu-id="39246-113">This is especially evident and important for AR devices like HoloLens where users can relate virtual holograms to the real world.</span></span> <span data-ttu-id="39246-114">Les performances sont significatives pour le suivi de la tête fiable, mais il peut également y avoir d' [autres fonctionnalités importantes](/windows/mixed-reality/environment-considerations-for-hololens).</span><span class="sxs-lookup"><span data-stu-id="39246-114">Performance is significant for reliable head tracking, but there can be [other important features](/windows/mixed-reality/environment-considerations-for-hololens), as well.</span></span> <span data-ttu-id="39246-115">Les types d’éléments d’environnement qui ont un impact sur l’expérience utilisateur dépendent des spécificités de la plateforme ciblée.</span><span class="sxs-lookup"><span data-stu-id="39246-115">The types of environment elements impacting user experience will depend on the targeted platform specifics.</span></span>

## <a name="windows-mixed-reality"></a><span data-ttu-id="39246-116">Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="39246-116">Windows Mixed Reality</span></span>

<span data-ttu-id="39246-117">La plateforme Windows Mixed Reality fournit des [documents de référence](/windows/mixed-reality/hologram-stability) pour la stabilisation des hologrammes sur la plateforme.</span><span class="sxs-lookup"><span data-stu-id="39246-117">The Windows Mixed Reality platform provides some [reference material](/windows/mixed-reality/hologram-stability) for stabilizing holograms on the platform.</span></span> <span data-ttu-id="39246-118">Toutefois, il existe un certain nombre d’outils clés que les développeurs peuvent utiliser pour améliorer l’expérience visuelle des hologrammes pour les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="39246-118">There are a handful of key tools though that developers can utilize to improve the hologram visual experience for users.</span></span>

### <a name="depth-buffer-sharing"></a><span data-ttu-id="39246-119">Partage de mémoire tampon de profondeur</span><span class="sxs-lookup"><span data-stu-id="39246-119">Depth buffer sharing</span></span>

<span data-ttu-id="39246-120">Les développeurs Unity ont la possibilité de partager le tampon de profondeur de l’application avec la plateforme.</span><span class="sxs-lookup"><span data-stu-id="39246-120">Unity developers have the option of sharing the application's depth buffer with the platform.</span></span> <span data-ttu-id="39246-121">Cela fournit des informations, où des hologrammes existent pour un frame actuel, que la plateforme peut utiliser pour stabiliser des hologrammes via un processus d’assistance matérielle appelé reprojection Late-Stage.</span><span class="sxs-lookup"><span data-stu-id="39246-121">This provides information, where holograms exist for a current frame, that the platform can utilize to stabilize holograms via a hardware-assisted process known as Late-Stage Reprojection.</span></span>

#### <a name="late-stage-reprojection"></a><span data-ttu-id="39246-122">Reprojection à l’étape tardive</span><span class="sxs-lookup"><span data-stu-id="39246-122">Late-stage reprojection</span></span>

<span data-ttu-id="39246-123">À la fin du rendu d’un frame, la plateforme Windows Mixed Reality prend les cibles de rendu de la profondeur de couleur & générées par l’application et transforme la sortie finale de l’écran en compte pour tout déplacement de tête depuis la dernière prédiction de pose.</span><span class="sxs-lookup"><span data-stu-id="39246-123">At the end of rendering a frame, the Windows Mixed Reality platform takes the color & depth render targets produced by the application and transforms the final screen output to account for any slight head movement since the last head pose prediction.</span></span> <span data-ttu-id="39246-124">L’exécution de la boucle de jeu d’une application prend du temps.</span><span class="sxs-lookup"><span data-stu-id="39246-124">An application's game loop takes time to execute.</span></span> <span data-ttu-id="39246-125">Par exemple, à 60 FPS, cela signifie que l’application prend ~ 16.667 ms pour afficher un frame.</span><span class="sxs-lookup"><span data-stu-id="39246-125">For example, at 60 FPS, this means the application is taking ~16.667ms to render a frame.</span></span> <span data-ttu-id="39246-126">Même si cela peut sembler un rien de temps, la position et l’orientation de l’utilisateur changent en fonction de nouvelles matrices de projection pour l’appareil photo en cours de rendu.</span><span class="sxs-lookup"><span data-stu-id="39246-126">Even though this may seem like a miniscule amount of time, the user's position and orientation of their head will change resulting in new projection matrices for the camera in rendering.</span></span> <span data-ttu-id="39246-127">La reprojection en phase tardive transforme les pixels de l’image finale pour tenir compte de cette nouvelle perspective.</span><span class="sxs-lookup"><span data-stu-id="39246-127">Late-stage reprojection transforms the pixels in the final image to account for this new perspective.</span></span>

#### <a name="per-pixel-vs-stabilization-plane-lsr"></a><span data-ttu-id="39246-128">Plan de stabilisation par pixel et LSR</span><span class="sxs-lookup"><span data-stu-id="39246-128">Per-pixel vs stabilization plane LSR</span></span>

<span data-ttu-id="39246-129">En fonction du point de terminaison de l’appareil et de la version du système d’exploitation exécuté sur un appareil Windows Mixed Reality, l’algorithme de reprojection Late-Stage sera effectué par pixel ou par le biais d’un [plan de stabilisation](/windows/mixed-reality/hologram-stability#stabilization-plane).</span><span class="sxs-lookup"><span data-stu-id="39246-129">Depending on the device endpoint and OS version running on a Windows Mixed Reality device, the Late-Stage Reprojection algorithm will either be performed per-pixel or via a [stabilization plane](/windows/mixed-reality/hologram-stability#stabilization-plane).</span></span>

##### <a name="per-pixel-depth-based"></a><span data-ttu-id="39246-130">Basé sur la profondeur par pixel</span><span class="sxs-lookup"><span data-stu-id="39246-130">Per-pixel depth-based</span></span>

<span data-ttu-id="39246-131">La reprojection basée sur la profondeur par pixel implique l’utilisation de la mémoire tampon de profondeur pour modifier la sortie de l’image par pixel et ainsi stabiliser les hologrammes à différentes distances.</span><span class="sxs-lookup"><span data-stu-id="39246-131">Per-pixel depth-based reprojection involves utilizing the depth buffer to modify the image output per pixel and thus stabilize holograms at various distances.</span></span> <span data-ttu-id="39246-132">Par exemple, une sphère 1m peut être devant un pilier qui est en millions de mètres.</span><span class="sxs-lookup"><span data-stu-id="39246-132">For example, a sphere 1m away may be in front of a pillar that is 10m away.</span></span> <span data-ttu-id="39246-133">Les pixels représentant la sphère auront une transformation différente des pixels éloignés représentant le pilier si l’utilisateur a légèrement incliné son tête.</span><span class="sxs-lookup"><span data-stu-id="39246-133">The pixels representing the sphere will have a different transform than the far away pixels representing the pillar if the user has tilted their head slightly.</span></span> <span data-ttu-id="39246-134">La reprojection par pixel prendra en compte cette différence de distance à chaque pixel pour une reprojection plus précise.</span><span class="sxs-lookup"><span data-stu-id="39246-134">Per-pixel reprojection will take into account this distance difference at every pixel for more accurate reprojection.</span></span>

##### <a name="stabilization-plane"></a><span data-ttu-id="39246-135">Plan de stabilisation</span><span class="sxs-lookup"><span data-stu-id="39246-135">Stabilization plane</span></span>

<span data-ttu-id="39246-136">S’il n’est pas possible de créer une mémoire tampon de profondeur exacte à partager avec la plateforme, une autre forme de LSR utilise un plan de stabilisation.</span><span class="sxs-lookup"><span data-stu-id="39246-136">If it is not possible to create an accurate depth buffer to share with the platform, another form of LSR utilizes a stabilization plane.</span></span> <span data-ttu-id="39246-137">Tous les hologrammes d’une scène recevront une certaine stabilisation, mais les hologrammes se trouvant dans le plan souhaité recevront la stabilisation matérielle maximale.</span><span class="sxs-lookup"><span data-stu-id="39246-137">All holograms in a scene will receive some stabilization, but holograms lying in the desired plane will receive the maximum hardware stabilization.</span></span> <span data-ttu-id="39246-138">Le point et la normale du plan peuvent être fournis à la plateforme via l’API *HolographicSettings. SetFocusPointForFrame* [fournie par Unity](/windows/mixed-reality/focus-point-in-unity).</span><span class="sxs-lookup"><span data-stu-id="39246-138">The point and normal for the plane can be supplied to the platform via the *HolographicSettings.SetFocusPointForFrame* [API provided by Unity](/windows/mixed-reality/focus-point-in-unity).</span></span>

#### <a name="depth-buffer-format"></a><span data-ttu-id="39246-139">Format de mémoire tampon de profondeur</span><span class="sxs-lookup"><span data-stu-id="39246-139">Depth buffer format</span></span>

<span data-ttu-id="39246-140">Si vous ciblez HoloLens pour le développement, il est fortement recommandé d’utiliser le format de mémoire tampon de profondeur de 16 bits par rapport à 24 bits.</span><span class="sxs-lookup"><span data-stu-id="39246-140">If targeting HoloLens for development, it is highly recommended to utilize the 16-bit depth buffer format compared to 24-bit.</span></span> <span data-ttu-id="39246-141">Cela permet d’économiser énormément de performances, bien que les valeurs de profondeur présentent moins de précision.</span><span class="sxs-lookup"><span data-stu-id="39246-141">This can save tremendously on performance although depth values will have less precision.</span></span> <span data-ttu-id="39246-142">Pour compenser la précision inférieure et éviter la [lutte z](https://en.wikipedia.org/wiki/Z-fighting), il est recommandé de réduire le [plan de découpage éloigné](https://docs.unity3d.com/Manual/class-Camera.html) de la valeur par défaut de 1000MD définie par Unity.</span><span class="sxs-lookup"><span data-stu-id="39246-142">To compensate for the lower precision and avoid [z-fighting](https://en.wikipedia.org/wiki/Z-fighting), it is recommended to reduce the [far clip plane](https://docs.unity3d.com/Manual/class-Camera.html) from the 1000m default value set by Unity.</span></span>

> [!NOTE]
> <span data-ttu-id="39246-143">Si vous utilisez le *format de profondeur 16 bits, les* effets requis pour la mémoire tampon des stencils ne fonctionneront pas, car [Unity ne crée pas de tampon de stencil](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) dans ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="39246-143">If using *16-bit depth format*, stencil buffer required effects will not work because [Unity does not create a stencil buffer](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) in this setting.</span></span> <span data-ttu-id="39246-144">Si vous sélectionnez le *format de profondeur 24 bits* , vous créez généralement une [mémoire tampon de stencil de 8 bits](https://docs.unity3d.com/Manual/SL-Stencil.html), le cas échéant sur la plateforme graphique de point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="39246-144">Selecting *24-bit depth format* conversely will generally create an [8-bit stencil buffer](https://docs.unity3d.com/Manual/SL-Stencil.html), if applicable on the endpoint graphics platform.</span></span>

#### <a name="depth-buffer-sharing-in-unity"></a><span data-ttu-id="39246-145">Partage de mémoire tampon de profondeur dans Unity</span><span class="sxs-lookup"><span data-stu-id="39246-145">Depth buffer sharing in Unity</span></span>

<span data-ttu-id="39246-146">Pour pouvoir utiliser des LSR à base de profondeur, les développeurs doivent effectuer deux étapes importantes.</span><span class="sxs-lookup"><span data-stu-id="39246-146">In order to utilize depth-based LSR, there are two important steps that developers need to take.</span></span>

1. <span data-ttu-id="39246-147">Sous **modifier** les  >  **paramètres du projet**, XR paramètres de l’application  >    >    >  **Virtual Real SDK** > activer le partage de **mémoire tampon de profondeur**</span><span class="sxs-lookup"><span data-stu-id="39246-147">Under **Edit** > **Project Settings** > **Player** > **XR Settings** > **Virtual Reality SDKs** > Enable **Depth Buffer Sharing**</span></span>
    1. <span data-ttu-id="39246-148">Si vous ciblez HoloLens, il est recommandé de sélectionner également le **format de profondeur 16 bits** .</span><span class="sxs-lookup"><span data-stu-id="39246-148">If targeting HoloLens, it is recommended to select **16-bit depth format** as well.</span></span>
1. <span data-ttu-id="39246-149">Lors du rendu de couleur à l’écran, afficher la profondeur également</span><span class="sxs-lookup"><span data-stu-id="39246-149">When rendering color on screen, render depth as well</span></span>

<span data-ttu-id="39246-150">Les [GameObjects opaques](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html) dans Unity sont généralement écrits automatiquement en profondeur.</span><span class="sxs-lookup"><span data-stu-id="39246-150">[Opaque GameObjects](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html) in Unity will generally write to depth automatically.</span></span> <span data-ttu-id="39246-151">Toutefois, les objets de texte transparent & n’écrivent généralement pas en profondeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="39246-151">However, transparent & text objects will generally not write to depth by default.</span></span> <span data-ttu-id="39246-152">Si vous utilisiez le nuanceur standard MRTK ou le maillage de texte Pro, cela peut être facilement résolu.</span><span class="sxs-lookup"><span data-stu-id="39246-152">If utilizing the MRTK Standard Shader or Text Mesh Pro, this can be easily remedied.</span></span>

> [!NOTE]
> <span data-ttu-id="39246-153">Pour déterminer rapidement quels objets d’une scène n’écrivent pas dans le tampon de profondeur visuellement, vous pouvez utiliser l’utilitaire de [ *tampon de profondeur de rendu*](../configuration/mixed-reality-configuration-guide.md#editor-utilities) sous les paramètres de l' *éditeur* dans le profil de configuration MRTK.</span><span class="sxs-lookup"><span data-stu-id="39246-153">To quickly determine which objects in a scene do not write to the depth buffer visually, one can use the [*Render Depth Buffer* utility](../configuration/mixed-reality-configuration-guide.md#editor-utilities) under the *Editor Settings* in the MRTK Configuration profile.</span></span>

##### <a name="transparent-mrtk-standard-shader"></a><span data-ttu-id="39246-154">Nuanceur transparent MRTK standard</span><span class="sxs-lookup"><span data-stu-id="39246-154">Transparent MRTK Standard shader</span></span>

<span data-ttu-id="39246-155">Pour les matériaux transparents à l’aide du [nuanceur standard MRTK](../features/rendering/MRTK-standard-shader.md), sélectionnez le matériau pour l’afficher dans la fenêtre de l' *inspecteur* .</span><span class="sxs-lookup"><span data-stu-id="39246-155">For transparent materials using the [MRTK Standard shader](../features/rendering/MRTK-standard-shader.md), select the material to view it in the *Inspector* window.</span></span> <span data-ttu-id="39246-156">Cliquez ensuite sur le bouton *corriger maintenant* pour convertir la matière en écriture en profondeur (c.-à-d.</span><span class="sxs-lookup"><span data-stu-id="39246-156">Then click the *Fix Now* button to convert the material to write to depth (i.e</span></span> <span data-ttu-id="39246-157">Z-écrire sur).</span><span class="sxs-lookup"><span data-stu-id="39246-157">Z-Write On).</span></span>

<span data-ttu-id="39246-158">Avant</span><span class="sxs-lookup"><span data-stu-id="39246-158">Before</span></span>

![Mémoire tampon de profondeur avant correction du nuanceur standard MRTK](../features/images/performance/DepthBufferFixNow_Before.PNG)

<span data-ttu-id="39246-160">After</span><span class="sxs-lookup"><span data-stu-id="39246-160">After</span></span>

![Nuanceur standard MRTK fixe du tampon de profondeur](../features/images/performance/DepthBufferFixNow_After.PNG)

##### <a name="text-mesh-pro"></a><span data-ttu-id="39246-162">Maille de texte Pro</span><span class="sxs-lookup"><span data-stu-id="39246-162">Text Mesh Pro</span></span>

<span data-ttu-id="39246-163">Pour objets de maillage Pro de texte, sélectionnez le GameObject TMP pour l’afficher dans l’inspecteur.</span><span class="sxs-lookup"><span data-stu-id="39246-163">For Text Mesh Pro objects, select the TMP GameObject to view it in the inspector.</span></span> <span data-ttu-id="39246-164">Sous le composant matériau, faites basculer le nuanceur pour la documentation affectée afin d’utiliser le nuanceur MRTK TextMeshPro.</span><span class="sxs-lookup"><span data-stu-id="39246-164">Under the material component, switch the shader for the assigned material to use the MRTK TextMeshPro shader.</span></span>

![Correction du tampon de la profondeur du maillage Pro du texte](../features/images/performance/TextMeshPro-DepthBuffer-Fix.PNG)

##### <a name="custom-shader"></a><span data-ttu-id="39246-166">Nuanceur personnalisé</span><span class="sxs-lookup"><span data-stu-id="39246-166">Custom shader</span></span>

<span data-ttu-id="39246-167">Si vous écrivez un nuanceur personnalisé, ajoutez l' [indicateur ZWrite](https://docs.unity3d.com/Manual/SL-CullAndDepth.html) au début de la définition du bloc de *passe* pour configurer le nuanceur à écrire dans la mémoire tampon de profondeur.</span><span class="sxs-lookup"><span data-stu-id="39246-167">If writing a custom shader, add the [ZWrite flag](https://docs.unity3d.com/Manual/SL-CullAndDepth.html) to the top of the *Pass* block definition to configure the shader to write to the depth buffer.</span></span>

```
Shader "Custom/MyShader"
{
    SubShader
    {
        Pass
        {
            ...
            ZWrite On
            ...
        }
    }
}
```

##### <a name="opaque-backings"></a><span data-ttu-id="39246-168">Enstockages opaques</span><span class="sxs-lookup"><span data-stu-id="39246-168">Opaque backings</span></span>

<span data-ttu-id="39246-169">Si les méthodes ci-dessus ne fonctionnent pas pour un scénario donné (par exemple,</span><span class="sxs-lookup"><span data-stu-id="39246-169">If the above methods do not work for a given scenario (i.e</span></span> <span data-ttu-id="39246-170">à l’aide de l’interface utilisateur Unity), il est possible d’écrire un autre objet dans le tampon de profondeur.</span><span class="sxs-lookup"><span data-stu-id="39246-170">using Unity UI), it is possible to have another object write to the depth buffer.</span></span> <span data-ttu-id="39246-171">Un exemple courant consiste à utiliser le texte de l’interface utilisateur Unity sur un panneau flottant dans une scène.</span><span class="sxs-lookup"><span data-stu-id="39246-171">A common example is using Unity UI Text on a floating panel in a scene.</span></span> <span data-ttu-id="39246-172">En rendant le panneau opaque ou au moins écrit en profondeur, le texte & le panneau sera stabilisé par la plateforme, car leurs valeurs z sont tellement proches les unes des autres.</span><span class="sxs-lookup"><span data-stu-id="39246-172">By making the panel opaque or at least writing to depth, then both the text & the panel will be stabilized by the platform since their z-values are so close to each other.</span></span>

### <a name="worldanchors-hololens"></a><span data-ttu-id="39246-173">WorldAnchors (HoloLens)</span><span class="sxs-lookup"><span data-stu-id="39246-173">WorldAnchors (HoloLens)</span></span>

<span data-ttu-id="39246-174">En plus de vous assurer que les configurations correctes sont respectées pour garantir la stabilité visuelle, il est important de s’assurer que les hologrammes restent stables à leurs emplacements physiques corrects.</span><span class="sxs-lookup"><span data-stu-id="39246-174">Along with ensuring the correct configurations are met to ensure visual stability, it is important to ensure holograms remain stable at their correct physical locations.</span></span> <span data-ttu-id="39246-175">Pour informer la plateforme des emplacements importants dans un espace physique, les développeurs peuvent tirer parti de [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) sur GameObjects qui doivent rester dans un même emplacement.</span><span class="sxs-lookup"><span data-stu-id="39246-175">To inform the platform on important locations in a physical space, developers can leverage [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) on GameObjects that need to stay in one place.</span></span> <span data-ttu-id="39246-176">Un [WorldAnchor](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) est un composant ajouté à un gameobject qui prend un contrôle absolu sur la transformation de cet objet.</span><span class="sxs-lookup"><span data-stu-id="39246-176">A [WorldAnchor](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) is a component added to a GameObject that takes absolute control over that object's transform.</span></span>

<span data-ttu-id="39246-177">Les appareils tels que HoloLens analysent et apprennent constamment l’environnement.</span><span class="sxs-lookup"><span data-stu-id="39246-177">Devices such as HoloLens are constantly scanning and learning about the environment.</span></span> <span data-ttu-id="39246-178">Ainsi, à mesure que le HoloLens suit le mouvement & position dans l’espace, ses estimations sont mises à jour et le [système de coordonnées Unity est ajusté](/windows/mixed-reality/coordinate-systems-in-unity).</span><span class="sxs-lookup"><span data-stu-id="39246-178">Thus, as the HoloLens tracks movement & position in space, its estimates will be updated and the [Unity coordinate system adjusted](/windows/mixed-reality/coordinate-systems-in-unity).</span></span> <span data-ttu-id="39246-179">Par exemple, si un GameObject est placé 1m à partir de l’appareil photo au démarrage, à mesure que le HoloLens effectue le suivi de l’environnement, il peut se rendre compte du point physique où se trouve le GameObject.</span><span class="sxs-lookup"><span data-stu-id="39246-179">For example, if a GameObject is placed 1m from the camera at start, as the HoloLens tracks the environment, it may realize the physical point where the GameObject is located is actually 1.1m away.</span></span> <span data-ttu-id="39246-180">Cela entraînerait la dérive de l’hologramme.</span><span class="sxs-lookup"><span data-stu-id="39246-180">This would result in the hologram drifting.</span></span> <span data-ttu-id="39246-181">L’application d’un WorldAnchor à un GameObject permet à l’ancre de contrôler la transformation de l’objet afin que l’objet reste à l’emplacement physique correct (c.-à-d.</span><span class="sxs-lookup"><span data-stu-id="39246-181">Applying a WorldAnchor to a GameObject will enable the anchor to control the object's transform so that the object will remain at the correct physical location (i.e</span></span> <span data-ttu-id="39246-182">Mettez à jour vers la version 1.1 m à la place de 1m au moment de l’exécution).</span><span class="sxs-lookup"><span data-stu-id="39246-182">update to 1.1m away instead of 1m at runtime).</span></span> <span data-ttu-id="39246-183">Pour conserver les [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) entre les sessions d’application, les développeurs peuvent utiliser le [WorldAnchorStore](https://docs.unity3d.com/ScriptReference/XR.WSA.Persistence.WorldAnchorStore.html) pour [enregistrer et charger WorldAnchors](/windows/mixed-reality/persistence-in-unity).</span><span class="sxs-lookup"><span data-stu-id="39246-183">To persist [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) across app sessions, developers can employ the [WorldAnchorStore](https://docs.unity3d.com/ScriptReference/XR.WSA.Persistence.WorldAnchorStore.html) to [save and load WorldAnchors](/windows/mixed-reality/persistence-in-unity).</span></span>

> [!NOTE]
> <span data-ttu-id="39246-184">Une fois qu’un composant WorldAnchor a été ajouté à un GameObject, il n’est pas possible de modifier la transformation de ce GameObject (c.-à-d.</span><span class="sxs-lookup"><span data-stu-id="39246-184">Once a WorldAnchor component has been added to a GameObject, it is not possible to modify that GameObject's transform (i.e</span></span> <span data-ttu-id="39246-185">transformation. position = x).</span><span class="sxs-lookup"><span data-stu-id="39246-185">transform.position = x).</span></span> <span data-ttu-id="39246-186">Un développeur doit supprimer le WorldAnchor pour modifier la transformation.</span><span class="sxs-lookup"><span data-stu-id="39246-186">A developer must remove the WorldAnchor to edit the transform.</span></span>

```c#
WorldAnchor m_anchor;

public void AddAnchor()
{
    this.m_anchor = this.gameObject.AddComponent<WorldAnchor>();
}

public void RemoveAnchor()
{
    DestroyImmediate(m_anchor);
}
```

<span data-ttu-id="39246-187">Si vous souhaitez une alternative à l’utilisation manuelle des ancres, consultez les outils de verrouillage Microsoft World.</span><span class="sxs-lookup"><span data-stu-id="39246-187">If you want an alternative to manually working with Anchors, check out the Microsoft World Locking Tools.</span></span> 

> [!div class="nextstepaction"]
> [<span data-ttu-id="39246-188">Installer avec l’outil de fonctionnalité MR</span><span class="sxs-lookup"><span data-stu-id="39246-188">Instal with the MR Feature Tool</span></span>](https://microsoft.github.io/MixedReality-WorldLockingTools-Unity/DocGen/Documentation/HowTos/WLTviaMRFeatureTool.html)

## <a name="see-also"></a><span data-ttu-id="39246-189">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="39246-189">See also</span></span>

- [<span data-ttu-id="39246-190">Performances</span><span class="sxs-lookup"><span data-stu-id="39246-190">Performance</span></span>](../performance/perf-getting-started.md)
- [<span data-ttu-id="39246-191">Considérations environnementales pour HoloLens</span><span class="sxs-lookup"><span data-stu-id="39246-191">Environment Considerations for HoloLens</span></span>](/windows/mixed-reality/environment-considerations-for-hololens)
- [<span data-ttu-id="39246-192">Stabilité des hologrammes Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="39246-192">Hologram Stability Windows Mixed Reality</span></span>](/windows/mixed-reality/hologram-stability)
- [<span data-ttu-id="39246-193">Point de focus dans Unity</span><span class="sxs-lookup"><span data-stu-id="39246-193">Focus point in Unity</span></span>](/windows/mixed-reality/focus-point-in-unity)
- [<span data-ttu-id="39246-194">Systèmes de coordonnées dans Unity</span><span class="sxs-lookup"><span data-stu-id="39246-194">Coordinate systems in Unity</span></span>](/windows/mixed-reality/coordinate-systems-in-unity)
- [<span data-ttu-id="39246-195">Persistance dans Unity</span><span class="sxs-lookup"><span data-stu-id="39246-195">Persistence in Unity</span></span>](/windows/mixed-reality/persistence-in-unity)
- [<span data-ttu-id="39246-196">Comprendre les performances de la réalité mixte</span><span class="sxs-lookup"><span data-stu-id="39246-196">Understanding Performance for Mixed Reality</span></span>](/windows/mixed-reality/understanding-performance-for-mixed-reality)
- [<span data-ttu-id="39246-197">Recommandations de performances pour Unity</span><span class="sxs-lookup"><span data-stu-id="39246-197">Performance recommendations for Unity</span></span>](/windows/mixed-reality/performance-recommendations-for-unity)