---
title: Fenêtre d’optimisation
description: Fenêtre d’optimisation de la documentation dans MRTK
author: keveleigh
ms.author: kurtie
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, Mixed Reality, développement, MRTK
ms.openlocfilehash: 7ffc2173cc55c83f126f66002d9240cb349d7f59
ms.sourcegitcommit: c0ba7d7bb57bb5dda65ee9019229b68c2ee7c267
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/19/2021
ms.locfileid: "110144310"
---
# <a name="optimize-window"></a><span data-ttu-id="dc188-104">Fenêtre optimiser</span><span class="sxs-lookup"><span data-stu-id="dc188-104">Optimize window</span></span>

<span data-ttu-id="dc188-105">La fenêtre MRTK Optimize est un utilitaire qui permet d’automatiser et d’informer le processus de configuration d’un projet de réalité mixte pour des [performances](../../performance/perf-getting-started.md) optimales dans Unity.</span><span class="sxs-lookup"><span data-stu-id="dc188-105">The MRTK Optimize Window is a utility to help automate and inform in the process of configuring a mixed reality project for best [performance](../../performance/perf-getting-started.md) in Unity.</span></span> <span data-ttu-id="dc188-106">Cet outil se concentre généralement sur les configurations de rendu qui, lorsqu’elles sont définies sur la présélection appropriée, peuvent réduire les millisecondes de traitement.</span><span class="sxs-lookup"><span data-stu-id="dc188-106">This tool generally focuses on rendering configurations that when set to the correct preset can save milliseconds of processing.</span></span>

<span data-ttu-id="dc188-107">La *cible de build active* est la [plateforme de génération actuellement ciblée](https://docs.unity3d.com/Manual/BuildSettings.html) par le projet pour la compilation.</span><span class="sxs-lookup"><span data-stu-id="dc188-107">The *Active Build Target* is the [build platform currently targeted](https://docs.unity3d.com/Manual/BuildSettings.html) by the project for compiling.</span></span>

<span data-ttu-id="dc188-108">La *cible de performance* indique à l’outil d’optimisation le type de points de terminaison d’appareil à cibler.</span><span class="sxs-lookup"><span data-stu-id="dc188-108">The *Performance Target* instructs the optimize tool on what kind of device endpoints to target.</span></span>

- <span data-ttu-id="dc188-109">Les *casques AR* sont des appareils mobiles, tels que HoloLens</span><span class="sxs-lookup"><span data-stu-id="dc188-109">*AR Headsets* are mobile-class devices, such as HoloLens</span></span>
- <span data-ttu-id="dc188-110">*VR standalone* est un appareil mobile, tel que Oculus Go ou Quest</span><span class="sxs-lookup"><span data-stu-id="dc188-110">*VR Standalone* are mobile-class devices, such as the Oculus Go or Quest</span></span>
- <span data-ttu-id="dc188-111">*VR* est un appareil alimenté par PC, tel que le format Samsung Odyssey, le rift Oculus ou le HTC, etc.</span><span class="sxs-lookup"><span data-stu-id="dc188-111">*VR Tethered* are PC-powered devices, such as the Samsung Odyssey, Oculus Rift or HTC Vive etc.</span></span>

![Cible de performance de la fenêtre d’optimisation MRTK](../images/performance/OptimizeWindowPerformanceTarget.jpg)

## <a name="setting-optimizations"></a><span data-ttu-id="dc188-113">Définition des optimisations</span><span class="sxs-lookup"><span data-stu-id="dc188-113">Setting optimizations</span></span>

<span data-ttu-id="dc188-114">L’onglet optimisation des paramètres couvre certaines des configurations de rendu importantes pour un projet Unity.</span><span class="sxs-lookup"><span data-stu-id="dc188-114">The settings optimization tab covers some of the important rendering configurations for a Unity project.</span></span> <span data-ttu-id="dc188-115">Cette section peut vous aider à automatiser et à vous informer des paramètres à modifier pour obtenir les résultats les plus performants.</span><span class="sxs-lookup"><span data-stu-id="dc188-115">This section can help automate and inform you of which settings should be changed for the best performing results.</span></span>

<span data-ttu-id="dc188-116">Une icône de coche verte signifie qu’une valeur optimale a été configurée dans le projet/la scène pour ce paramètre particulier.</span><span class="sxs-lookup"><span data-stu-id="dc188-116">A green check icon means that an optimal value has been configured in the project/scene for this particular setting.</span></span> <span data-ttu-id="dc188-117">Une icône d’avertissement jaune indique que la configuration actuelle peut être améliorée.</span><span class="sxs-lookup"><span data-stu-id="dc188-117">A yellow warning icon indicates the current configuration can be improved.</span></span> <span data-ttu-id="dc188-118">En cliquant sur le bouton associé dans une section donnée, vous configurez automatiquement ce paramètre dans le projet Unity/Scene sur une valeur plus optimale.</span><span class="sxs-lookup"><span data-stu-id="dc188-118">Clicking the associated button in a given section will auto-configure that setting in the Unity project/scene to a more optimal value.</span></span>

![Paramètres de la fenêtre d’optimisation MRTK](../images/performance/OptimizeWindow_Settings.png)

### <a name="single-pass-instanced-rendering"></a><span data-ttu-id="dc188-120">Rendu d’instance à passe unique</span><span class="sxs-lookup"><span data-stu-id="dc188-120">Single Pass Instanced rendering</span></span>

<span data-ttu-id="dc188-121">Le [rendu d’instance à passage unique](https://docs.unity3d.com/Manual/SinglePassInstancing.html) est le chemin de rendu le plus efficace pour les applications de réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="dc188-121">[Single Pass instanced rendering](https://docs.unity3d.com/Manual/SinglePassInstancing.html) is the most efficient rendering path for mixed reality applications.</span></span> <span data-ttu-id="dc188-122">Cette configuration garantit que le pipeline de rendu n’est exécuté qu’une seule fois pour les yeux et que les appels de dessin sont instanciés sur les deux yeux.</span><span class="sxs-lookup"><span data-stu-id="dc188-122">This configuration ensures the render pipeline is executed only once for both eyes and that draw calls are instanced across both eyes.</span></span>

### <a name="depth-buffer-sharing"></a><span data-ttu-id="dc188-123">Partage de mémoire tampon de profondeur</span><span class="sxs-lookup"><span data-stu-id="dc188-123">Depth buffer sharing</span></span>

<span data-ttu-id="dc188-124">Pour améliorer la [stabilisation des hologrammes](../../performance/hologram-Stabilization.md), les développeurs peuvent partager le tampon de profondeur de l’application, ce qui donne aux plateformes des informations sur l’emplacement et les hologrammes à stabiliser dans la scène rendue.</span><span class="sxs-lookup"><span data-stu-id="dc188-124">To improve [hologram stabilization](../../performance/hologram-Stabilization.md), developers can share the application's depth buffer which gives the platform information on where and what holograms to stabilize in the rendered scene.</span></span>

### <a name="depth-buffer-format"></a><span data-ttu-id="dc188-125">Format de mémoire tampon de profondeur</span><span class="sxs-lookup"><span data-stu-id="dc188-125">Depth buffer format</span></span>

<span data-ttu-id="dc188-126">En outre, pour les *casques AR*, il est recommandé d’utiliser un format de profondeur 16 bits lors de l’activation du partage de tampons de profondeur par rapport à 24 bits.</span><span class="sxs-lookup"><span data-stu-id="dc188-126">Furthermore, for *AR Headsets*, it is recommended to utilize a 16-bit depth format when enabling depth buffer sharing compared to 24-bit.</span></span> <span data-ttu-id="dc188-127">Cela signifie une précision inférieure, mais économise les performances.</span><span class="sxs-lookup"><span data-stu-id="dc188-127">This means lower precision but saves on performance.</span></span> <span data-ttu-id="dc188-128">Si la [superposition](https://en.wikipedia.org/wiki/Z-fighting) se produit parce qu’il y a moins de précision dans le calcul de la profondeur pour les pixels, il est recommandé de déplacer le [plan de découpage](https://docs.unity3d.com/Manual/class-Camera.html) le plus proche de l’appareil photo (par ex. 50 millions au lieu de 1000MD).</span><span class="sxs-lookup"><span data-stu-id="dc188-128">If [z-fighting](https://en.wikipedia.org/wiki/Z-fighting) occurs because there is less precision in calculating depth for pixels, then it is recommended to move the [far clip plane](https://docs.unity3d.com/Manual/class-Camera.html) closer to the camera (ex: 50m instead of 1000m).</span></span>

> [!NOTE]
> <span data-ttu-id="dc188-129">Si vous utilisez le *format de profondeur 16 bits, les* effets requis pour la mémoire tampon des stencils ne fonctionneront pas, car [Unity ne crée pas de tampon de stencil](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) dans ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="dc188-129">If using *16-bit depth format*, stencil buffer required effects will not work because [Unity does not create a stencil buffer](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) in this setting.</span></span> <span data-ttu-id="dc188-130">Si vous sélectionnez le *format de profondeur 24 bits* , vous créez généralement une [mémoire tampon de stencil de 8 bits](https://docs.unity3d.com/Manual/SL-Stencil.html), le cas échéant sur la plateforme graphique de point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="dc188-130">Selecting *24-bit depth format* conversely will generally create an [8-bit stencil buffer](https://docs.unity3d.com/Manual/SL-Stencil.html), if applicable on the endpoint graphics platform.</span></span>
>
> <span data-ttu-id="dc188-131">Si vous utilisez un [composant de masque](https://docs.unity3d.com/Manual/script-Mask.html) qui requiert la mémoire tampon de stencil, envisagez d’utiliser [RectMask2D](https://docs.unity3d.com/Manual/script-RectMask2D.html) à la place, ce qui ne nécessite pas la mémoire tampon de stencil et peut donc être utilisé avec un format de *profondeur de 16 bits*.</span><span class="sxs-lookup"><span data-stu-id="dc188-131">If using a [Mask component](https://docs.unity3d.com/Manual/script-Mask.html) which requires the stencil buffer, consider using [RectMask2D](https://docs.unity3d.com/Manual/script-RectMask2D.html) instead, which does not require the stencil buffer and thus can be used in conjunction with a *16-bit depth format*.</span></span>

### <a name="real-time-global-illumination"></a><span data-ttu-id="dc188-132">Éclairage global en temps réel</span><span class="sxs-lookup"><span data-stu-id="dc188-132">Real-time Global Illumination</span></span>

<span data-ttu-id="dc188-133">L' [éclairage global](https://docs.unity3d.com/Manual/GIIntro.html) en temps réel dans Unity peut fournir des résultats esthétiques fantastiques, mais à un coût très élevé.</span><span class="sxs-lookup"><span data-stu-id="dc188-133">[Real-time Global illumination](https://docs.unity3d.com/Manual/GIIntro.html) in Unity can provide fantastic aesthetic results but at a very high cost.</span></span> <span data-ttu-id="dc188-134">L’éclairage global de l’éclairage est très onéreux en réalité mixte. il est donc recommandé de désactiver cette fonctionnalité en cours de développement.</span><span class="sxs-lookup"><span data-stu-id="dc188-134">Global illumination lighting is very expensive in mixed reality and thus it is recommended to disable this feature in development.</span></span>

> [!NOTE]
> <span data-ttu-id="dc188-135">Les paramètres d’éclairage globaux dans Unity sont définis par scène et pas une seule fois pour l’ensemble du projet.</span><span class="sxs-lookup"><span data-stu-id="dc188-135">Global illumination settings in Unity are set per-scene and not once across the entire project.</span></span>

## <a name="scene-analysis"></a><span data-ttu-id="dc188-136">Analyse des scènes</span><span class="sxs-lookup"><span data-stu-id="dc188-136">Scene analysis</span></span>

<span data-ttu-id="dc188-137">L’onglet *analyse des scènes* est conçu pour informer les développeurs sur les éléments actuellement dans la scène qui auront probablement le plus d’impact sur les performances.</span><span class="sxs-lookup"><span data-stu-id="dc188-137">The *Scene Analysis* tab is designed to inform developers on which elements currently in the scene will likely have the most impact on performance.</span></span>

![MRTK optimiser les paramètres de la fenêtre analyse des scènes](../images/performance/OptimizeWindow_SceneAnalysis.png)

### <a name="lighting-analysis"></a><span data-ttu-id="dc188-139">Analyse de l’éclairage</span><span class="sxs-lookup"><span data-stu-id="dc188-139">Lighting analysis</span></span>

<span data-ttu-id="dc188-140">Cette section examine le nombre de lumières actuellement présentes dans la scène, ainsi que les voyants qui doivent désactiver les ombres.</span><span class="sxs-lookup"><span data-stu-id="dc188-140">This section will examine the number of lights currently in the scene, as well as any lights that should disable shadows.</span></span> <span data-ttu-id="dc188-141">Le cast instantané est une opération très coûteuse.</span><span class="sxs-lookup"><span data-stu-id="dc188-141">Shadow casting is a very expensive operation.</span></span>

### <a name="polygon-count-analysis"></a><span data-ttu-id="dc188-142">Analyse du nombre de polygones</span><span class="sxs-lookup"><span data-stu-id="dc188-142">Polygon count analysis</span></span>

<span data-ttu-id="dc188-143">L’outil fournit également des statistiques sur le nombre de polygones.</span><span class="sxs-lookup"><span data-stu-id="dc188-143">The tool also provides polygon count statistics.</span></span> <span data-ttu-id="dc188-144">Il peut être très utile d’identifier rapidement les GameObjects qui ont la plus grande complexité de polygones dans une scène donnée à cibler pour les optimisations.</span><span class="sxs-lookup"><span data-stu-id="dc188-144">It can be very helpful to quickly identify which GameObjects have the highest polygon complexity in a given scene to target for optimizations.</span></span>

### <a name="unity-ui-raycast-analysis"></a><span data-ttu-id="dc188-145">Analyse raycast de l’interface utilisateur Unity</span><span class="sxs-lookup"><span data-stu-id="dc188-145">Unity UI raycast analysis</span></span>

<span data-ttu-id="dc188-146">Les opérations raycast Graphics sont effectuées par pointeur dans MRTK pour déterminer si des éléments d’interface utilisateur Unity sont activés.</span><span class="sxs-lookup"><span data-stu-id="dc188-146">Graphics raycast operations are performed per pointer in MRTK to determine if any Unity UI elements are in focus.</span></span> <span data-ttu-id="dc188-147">Ces raycasts peuvent être très onéreux et contribuer à l’amélioration des performances. les éléments d’interface utilisateur qui n’ont pas besoin d’être retournés dans les résultats doivent être désactivés en tant que cibles raycast.</span><span class="sxs-lookup"><span data-stu-id="dc188-147">These raycasts can be quite expensive and to help improve performance, UI elements that do not need to be returned in the results should be disabled as raycast targets.</span></span> <span data-ttu-id="dc188-148">Chaque élément [graphique](https://docs.unity3d.com/2018.4/Documentation/ScriptReference/UI.Graphic.html) a une [`Graphic.raycastTarget`](https://docs.unity3d.com/2018.4/Documentation/ScriptReference/UI.Graphic-raycastTarget.html) propriété.</span><span class="sxs-lookup"><span data-stu-id="dc188-148">Every [Graphic](https://docs.unity3d.com/2018.4/Documentation/ScriptReference/UI.Graphic.html) element has a [`Graphic.raycastTarget`](https://docs.unity3d.com/2018.4/Documentation/ScriptReference/UI.Graphic-raycastTarget.html) property.</span></span> <span data-ttu-id="dc188-149">Cet outil recherche des éléments d’interface utilisateur de texte dont cette propriété est activée et peut donc être désactivée.</span><span class="sxs-lookup"><span data-stu-id="dc188-149">This tool will search for text UI elements that have this property enabled and thus are likely candidates to be disabled.</span></span>

## <a name="shader-analysis"></a><span data-ttu-id="dc188-150">Analyse des nuanceurs</span><span class="sxs-lookup"><span data-stu-id="dc188-150">Shader analysis</span></span>

<span data-ttu-id="dc188-151">Le [nuanceur standard Unity](https://docs.unity3d.com/Manual/shader-StandardShader.html) peut produire des résultats visuels de très grande qualité pour les jeux, mais il n’est généralement pas mieux adapté aux besoins de performances des applications de réalité mixte, en particulier puisque ces applications sont généralement limitées par le GPU.</span><span class="sxs-lookup"><span data-stu-id="dc188-151">The [Unity Standard shader](https://docs.unity3d.com/Manual/shader-StandardShader.html) can produce very high quality visual results for games but is not generally best suited for the performance needs of mixed reality applications, especially since such applications are generally GPU bounded.</span></span> <span data-ttu-id="dc188-152">Par conséquent, il est recommandé aux développeurs d’utiliser le [nuanceur MRTK standard](../rendering/mrtk-standard-shader.md) pour équilibrer l’esthétique & les fonctionnalités graphiques avec les performances.</span><span class="sxs-lookup"><span data-stu-id="dc188-152">Thus, it is recommended to developers to utilize the [MRTK Standard shader](../rendering/mrtk-standard-shader.md) to balance aesthetics & graphical features with performance.</span></span>

<span data-ttu-id="dc188-153">L’onglet *analyse des nuanceurs* analyse le dossier de ressources du projet actif pour rechercher des matériaux à l’aide du nuanceur standard Unity ou si vous le souhaitez, tous les matériaux qui n’utilisent pas la réalité mixte Toolkit fournissaient des nuanceurs.</span><span class="sxs-lookup"><span data-stu-id="dc188-153">The *Shader Analysis* tab scans the current project's Asset folder for materials using the Unity Standard shader or if desired, all materials not using Mixed Reality Toolkit provided shaders.</span></span> <span data-ttu-id="dc188-154">Une fois découverts, les développeurs peuvent convertir tous les documents ou les convertir individuellement à l’aide des boutons appropriés.</span><span class="sxs-lookup"><span data-stu-id="dc188-154">Once discovered, developers can convert all materials or convert individually using the appropriate buttons.</span></span>

![Analyse des nuanceurs MRTK optimiser les paramètres de fenêtre](../images/performance/OptimizeWindow_ShaderAnalysis.png)

## <a name="see-also"></a><span data-ttu-id="dc188-156">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="dc188-156">See also</span></span>

- [<span data-ttu-id="dc188-157">Performances</span><span class="sxs-lookup"><span data-stu-id="dc188-157">Performance</span></span>](../../performance/perf-getting-started.md)
- [<span data-ttu-id="dc188-158">Stabilisation d’hologramme</span><span class="sxs-lookup"><span data-stu-id="dc188-158">Hologram Stabilization</span></span>](../../performance/hologram-stabilization.md)
