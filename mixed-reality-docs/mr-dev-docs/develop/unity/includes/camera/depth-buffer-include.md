---
ms.openlocfilehash: 3306a9925c55c24c4d72ecb58d7c744dd64b283e
ms.sourcegitcommit: 0db5777954697f1d738469363bbf385481204d24
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/27/2021
ms.locfileid: "105636285"
---
# <a name="mrtk"></a>[<span data-ttu-id="36f2e-101">MRTK</span><span class="sxs-lookup"><span data-stu-id="36f2e-101">MRTK</span></span>](#tab/mrtk)
<!-- NEVER CHANGE THE ABOVE LINE! -->

<span data-ttu-id="36f2e-102">La [boîte de dialogue de configuration de MRTK](https://docs.microsoft.com/windows/mixed-reality/mrtk-unity/configuration/mrtk-configuration-dialog) tente de définir des paramètres de mémoire tampon de profondeur pour le kit de développement logiciel (SDK) XR et le WSA hérité, mais il est judicieux de vérifier ces onglets et de vérifier les paramètres dans Unity.</span><span class="sxs-lookup"><span data-stu-id="36f2e-102">[MRTK's configuration dialog](https://docs.microsoft.com/windows/mixed-reality/mrtk-unity/configuration/mrtk-configuration-dialog) will attempt to set depth buffer settings for both XR SDK and legacy WSA, but it's good to check those tabs and verify the settings in Unity.</span></span>

# <a name="xr-sdk"></a>[<span data-ttu-id="36f2e-103">Kit de développement logiciel (SDK) XR</span><span class="sxs-lookup"><span data-stu-id="36f2e-103">XR SDK</span></span>](#tab/xr)
<!-- NEVER CHANGE THE ABOVE LINE! -->

<span data-ttu-id="36f2e-104">Pour définir si votre application Unity fournira un tampon de profondeur à Windows :</span><span class="sxs-lookup"><span data-stu-id="36f2e-104">To set whether your Unity app will provide a depth buffer to Windows:</span></span>

1. <span data-ttu-id="36f2e-105">Accédez à **modifier**  >  les **paramètres du projet**  >  **XR gestion du plug-in** et vérifiez que l’élément de menu est développé.</span><span class="sxs-lookup"><span data-stu-id="36f2e-105">Go to **Edit** > **Project Settings** > **XR Plug-in Management** and ensure the menu item is expanded.</span></span>
2. <span data-ttu-id="36f2e-106">Cliquez sur l’élément de menu correspondant au runtime XR que vous avez choisi, Windows Mixed Reality ou OpenXR.</span><span class="sxs-lookup"><span data-stu-id="36f2e-106">Click on the menu item corresponding to the XR runtime you've chosen, either Windows Mixed Reality or OpenXR.</span></span> <span data-ttu-id="36f2e-107">En outre, assurez-vous que la plateforme de génération correcte est sélectionnée, sous forme d’onglets pour Windows standalone et plateforme Windows universelle sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="36f2e-107">Additionally, ensure the correct build platform is selected, as tabs for both Windows Standalone and Universal Windows Platform are available.</span></span>
3. <span data-ttu-id="36f2e-108">Pour activer et configurer :</span><span class="sxs-lookup"><span data-stu-id="36f2e-108">To enable and configure:</span></span>
    1. <span data-ttu-id="36f2e-109">Pour OpenXR, sélectionnez un format de profondeur ou « aucun » dans la liste déroulante **mode de soumission de profondeur** .</span><span class="sxs-lookup"><span data-stu-id="36f2e-109">For OpenXR, select either a depth format or "None" in the **Depth Submission Mode** dropdown.</span></span>
    2. <span data-ttu-id="36f2e-110">Pour Windows Mixed Reality, cochez ou décochez la case **Shared Depth buffer** .</span><span class="sxs-lookup"><span data-stu-id="36f2e-110">For Windows Mixed Reality, check or uncheck the **Shared Depth Buffer** check box.</span></span> <span data-ttu-id="36f2e-111">Ensuite, sélectionnez un format dans la liste déroulante format de la **mémoire tampon de profondeur** .</span><span class="sxs-lookup"><span data-stu-id="36f2e-111">Then, select a format from the **Depth Buffer Format** dropdown.</span></span>

<span data-ttu-id="36f2e-112">![Paramètres de profondeur du plug-in Windows XR paramètres de ](../../images/xrsdk-winxr-depth.png)
 ![ profondeur OpenXR](../../images/xrsdk-openxr-depth.png)</span><span class="sxs-lookup"><span data-stu-id="36f2e-112">![Windows XR Plugin depth settings](../../images/xrsdk-winxr-depth.png)
![OpenXR depth settings](../../images/xrsdk-openxr-depth.png)</span></span>

> [!NOTE]
> <span data-ttu-id="36f2e-113">Il est généralement recommandé d’utiliser des mémoires tampons de profondeur 16 bits pour améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="36f2e-113">It is generally recommended to use 16 bit depth buffers for improved performance.</span></span> <span data-ttu-id="36f2e-114">Toutefois, si vous utilisez le format de profondeur 16 bits, les effets requis pour la mémoire tampon des stencils (comme certains panneaux défilant de l’interface utilisateur Unity) ne fonctionneront pas, car [Unity ne crée pas de tampon de stencil](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) dans ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="36f2e-114">However, if using 16-bit depth format, stencil buffer required effects (like some Unity UI scroll panels) will not work because [Unity does not create a stencil buffer](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) in this setting.</span></span> <span data-ttu-id="36f2e-115">Si vous sélectionnez le *format de profondeur 24 bits* , vous créez généralement une [mémoire tampon de stencil de 8 bits](https://docs.unity3d.com/Manual/SL-Stencil.html) , le cas échéant, sur la plateforme graphique de point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="36f2e-115">Selecting *24-bit depth format* conversely will generally create an [8-bit stencil buffer](https://docs.unity3d.com/Manual/SL-Stencil.html) if applicable on the endpoint graphics platform.</span></span>

# <a name="legacy-wsa"></a>[<span data-ttu-id="36f2e-116">WSA hérité</span><span class="sxs-lookup"><span data-stu-id="36f2e-116">Legacy WSA</span></span>](#tab/wsa)
<!-- NEVER CHANGE THE ABOVE LINE! -->

<span data-ttu-id="36f2e-117">Pour définir si votre application Unity fournira un tampon de profondeur à Windows :</span><span class="sxs-lookup"><span data-stu-id="36f2e-117">To set whether your Unity app will provide a depth buffer to Windows:</span></span>

1. <span data-ttu-id="36f2e-118">Accédez à **modifier** les  >  **paramètres du projet**  >  **lecteur**  >  **plateforme Windows universelle onglet**  >  **paramètres XR**.</span><span class="sxs-lookup"><span data-stu-id="36f2e-118">Go to **Edit** > **Project Settings** > **Player** > **Universal Windows Platform tab** > **XR Settings**.</span></span>
2. <span data-ttu-id="36f2e-119">Développez l’élément du **Kit de développement logiciel (SDK) Windows Mixed Reality** .</span><span class="sxs-lookup"><span data-stu-id="36f2e-119">Expand the **Windows Mixed Reality SDK** item.</span></span>
3. <span data-ttu-id="36f2e-120">Activez ou désactivez la case à cocher **activer le partage de tampons de profondeur** .</span><span class="sxs-lookup"><span data-stu-id="36f2e-120">Check or uncheck the **Enable Depth Buffer Sharing** check box.</span></span> <span data-ttu-id="36f2e-121">L’option Activer le partage de tampons de profondeur est activée par défaut dans les nouveaux projets, mais elle a peut-être été désactivée par défaut dans les projets plus anciens.</span><span class="sxs-lookup"><span data-stu-id="36f2e-121">Enable Depth Buffer Sharing is checked by default in new projects, but may have been unchecked by default in older projects.</span></span>

![Paramètres de profondeur des XR hérités](../../images/wmr-depth.png)

<span data-ttu-id="36f2e-123">Une mémoire tampon de profondeur peut améliorer la qualité visuelle tant que Windows peut mapper avec précision les valeurs de profondeur par pixel normalisées dans votre tampon de profondeur à des distances exprimées en mètres, à l’aide des plans proches et éloignés que vous avez définis dans Unity sur la caméra principale.</span><span class="sxs-lookup"><span data-stu-id="36f2e-123">A depth buffer can improve visual quality so long as Windows can accurately map the normalized per-pixel depth values in your depth buffer back to distances in meters, using the near and far planes you've set in Unity on the main camera.</span></span> <span data-ttu-id="36f2e-124">Si votre rendu passe les valeurs de profondeur des poignées de manière classique, vous devez généralement être précis ici, bien que le rendu translucide passe l’écriture dans le tampon de profondeur pendant que l’affichage aux pixels de couleur existants peut confondre la reprojection.</span><span class="sxs-lookup"><span data-stu-id="36f2e-124">If your render passes handle depth values in typical ways, you should generally be fine here, though translucent render passes that write to the depth buffer while showing through to existing color pixels can confuse the reprojection.</span></span>  <span data-ttu-id="36f2e-125">Si vous savez que vos passes de rendu conservent un grand nombre de pixels de profondeur finale avec des valeurs de profondeur inexactes, vous obtiendrez probablement une meilleure qualité visuelle en désactivant l’option « Activer le partage de mémoire tampon de profondeur ».</span><span class="sxs-lookup"><span data-stu-id="36f2e-125">If you know that your render passes will leave many of your final depth pixels with inaccurate depth values, you are likely to get better visual quality by unchecking "Enable Depth Buffer Sharing".</span></span>

> [!NOTE]
> <span data-ttu-id="36f2e-126">Il est généralement recommandé d’utiliser des mémoires tampons de profondeur 16 bits pour améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="36f2e-126">It is generally recommended to use 16 bit depth buffers for improved performance.</span></span> <span data-ttu-id="36f2e-127">Toutefois, si vous utilisez le format de profondeur 16 bits, les effets requis pour la mémoire tampon des stencils (comme certains panneaux défilant de l’interface utilisateur Unity) ne fonctionneront pas, car [Unity ne crée pas de tampon de stencil](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) dans ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="36f2e-127">However, if using 16-bit depth format, stencil buffer required effects (like some Unity UI scroll panels) will not work because [Unity does not create a stencil buffer](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) in this setting.</span></span> <span data-ttu-id="36f2e-128">Si vous sélectionnez le *format de profondeur 24 bits* , vous créez généralement une [mémoire tampon de stencil de 8 bits](https://docs.unity3d.com/Manual/SL-Stencil.html) , le cas échéant, sur la plateforme graphique de point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="36f2e-128">Selecting *24-bit depth format* conversely will generally create an [8-bit stencil buffer](https://docs.unity3d.com/Manual/SL-Stencil.html) if applicable on the endpoint graphics platform.</span></span>