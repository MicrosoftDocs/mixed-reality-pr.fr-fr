---
title: Comprendre les performances de la réalité mixte
description: Découvrez des informations et des détails avancés sur l’analyse et l’optimisation des performances des applications Windows Mixed Reality.
author: hferrone
ms.author: v-hferrone
ms.date: 3/26/2019
ms.topic: article
keywords: Windows Mixed Reality, la réalité mixte, la réalité virtuelle, VR, MR, performances, optimisation, UC, GPU
ms.openlocfilehash: d0218902864586e678f6d51dfade58bd567bcc02
ms.sourcegitcommit: 3236abcba27335fe3d52e38423d2b265ca883355
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/02/2021
ms.locfileid: "106269955"
---
# <a name="understanding-performance-for-mixed-reality"></a><span data-ttu-id="d62c4-104">Comprendre les performances de la réalité mixte</span><span class="sxs-lookup"><span data-stu-id="d62c4-104">Understanding performance for mixed reality</span></span>

<span data-ttu-id="d62c4-105">Cet article est une introduction à la compréhension de l’importance des performances de votre application de réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="d62c4-105">This article is an introduction to understanding the significance of performance for your Mixed Reality app.</span></span>  <span data-ttu-id="d62c4-106">L’expérience utilisateur peut être très détériorée si votre application n’est pas exécutée à la fréquence d’images optimale.</span><span class="sxs-lookup"><span data-stu-id="d62c4-106">User experience can be greatly degraded if your application doesn't run at optimal frame rate.</span></span> <span data-ttu-id="d62c4-107">Les hologrammes apparaissent instables et le suivi des têtes de l’environnement n’est pas exact, ce qui entraîne une mauvaise expérience de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="d62c4-107">Holograms will appear unstable and head tracking of the environment will be inaccurate, leading to a poor experience for the user.</span></span> <span data-ttu-id="d62c4-108">Les performances doivent être considérées comme une fonctionnalité de première classe pour le développement de la réalité mixte et non pour une tâche polonaise.</span><span class="sxs-lookup"><span data-stu-id="d62c4-108">Performance must be considered a first class feature for mixed reality development and not a polish task.</span></span>

<span data-ttu-id="d62c4-109">Nous avons récemment publié une application appelée notions de base de la qualité qui couvre les problèmes courants liés aux performances, à la conception et à l’environnement, ainsi que les solutions pour les applications HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="d62c4-109">We recently released an application called Quality Fundamentals that covers common performance, design, and environment issues and solutions for HoloLens 2 apps.</span></span> <span data-ttu-id="d62c4-110">Cette application est une excellente démonstration visuelle du contenu qui suit.</span><span class="sxs-lookup"><span data-stu-id="d62c4-110">This app is a great visual demo for the content the follows.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="d62c4-111">Télécharger l’application de notions de base sur la qualité</span><span class="sxs-lookup"><span data-stu-id="d62c4-111">Download the Quality Fundamentals app</span></span>](https://www.microsoft.com/en-us/p/quality-fundamentals/9mwz852q88fw)

<span data-ttu-id="d62c4-112">Les valeurs de fréquence d’images performante pour chaque plateforme cible sont répertoriées ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="d62c4-112">The performant framerate values for each target platform are listed below.</span></span>

| <span data-ttu-id="d62c4-113">Plateforme</span><span class="sxs-lookup"><span data-stu-id="d62c4-113">Platform</span></span> | <span data-ttu-id="d62c4-114">Fréquence d’images cible</span><span class="sxs-lookup"><span data-stu-id="d62c4-114">Target Frame Rate</span></span> |
|----------|-------------------|
| [<span data-ttu-id="d62c4-115">HoloLens</span><span class="sxs-lookup"><span data-stu-id="d62c4-115">HoloLens</span></span>](/hololens/hololens1-hardware) | <span data-ttu-id="d62c4-116">60 i/s</span><span class="sxs-lookup"><span data-stu-id="d62c4-116">60 FPS</span></span> |
| [<span data-ttu-id="d62c4-117">Windows Mixed Reality ultra PC</span><span class="sxs-lookup"><span data-stu-id="d62c4-117">Windows Mixed Reality Ultra PCs</span></span>](../../discover/immersive-headset-hardware-details.md) | <span data-ttu-id="d62c4-118">90 FPS</span><span class="sxs-lookup"><span data-stu-id="d62c4-118">90 FPS</span></span> |
| [<span data-ttu-id="d62c4-119">PC Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="d62c4-119">Windows Mixed Reality PCs</span></span>](../../discover/immersive-headset-hardware-details.md) | <span data-ttu-id="d62c4-120">60 i/s</span><span class="sxs-lookup"><span data-stu-id="d62c4-120">60 FPS</span></span> |

<span data-ttu-id="d62c4-121">Le cadre ci-dessous décrit les meilleures pratiques pour atteindre les fréquences d’images cibles.</span><span class="sxs-lookup"><span data-stu-id="d62c4-121">The framework below outlines best practices for hitting target frame rates.</span></span> <span data-ttu-id="d62c4-122">Nous vous recommandons de lire les [recommandations relatives aux performances de l’article Unity](../unity/performance-recommendations-for-unity.md) pour obtenir des conseils sur la mesure et l’amélioration de la fréquence d’images dans l’environnement Unity.</span><span class="sxs-lookup"><span data-stu-id="d62c4-122">We recommend reading the [performance recommendations for Unity article](../unity/performance-recommendations-for-unity.md) for tips on measuring and improving framerate in the Unity environment.</span></span>

## <a name="understanding-performance-bottlenecks"></a><span data-ttu-id="d62c4-123">Comprendre les goulots d’étranglement des performances</span><span class="sxs-lookup"><span data-stu-id="d62c4-123">Understanding performance bottlenecks</span></span>

<span data-ttu-id="d62c4-124">Si votre application comporte une cadence de trames, la première étape consiste à analyser et à comprendre où votre application est gourmande en calculs.</span><span class="sxs-lookup"><span data-stu-id="d62c4-124">If your app has an underperforming framerate, the first step is to analyze and understand where your application is computationally intensive.</span></span> <span data-ttu-id="d62c4-125">Deux processeurs principaux sont responsables du travail de rendu de votre scène : le processeur et le GPU, chacun gérant différents aspects de votre application de réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="d62c4-125">There are two primary processors responsible for the work to render your scene: the CPU and the GPU, each handling different aspects of your Mixed Reality app.</span></span> <span data-ttu-id="d62c4-126">Les goulots d’étranglement peuvent être les suivants :</span><span class="sxs-lookup"><span data-stu-id="d62c4-126">The three key places where bottlenecks may occur are:</span></span> 

1. <span data-ttu-id="d62c4-127">**Thread d’application-UC** -
    Responsable de votre logique d’application, y compris le traitement des entrées, des animations, de la physique et d’autres logiques d’application.</span><span class="sxs-lookup"><span data-stu-id="d62c4-127">**App Thread - CPU** -
 Responsible for your app logic, including processing input, animations, physics, and other app logic.</span></span>
2. <span data-ttu-id="d62c4-128">**Rendu thread-CPU au GPU** -responsable de l’envoi des appels de dessin au GPU.</span><span class="sxs-lookup"><span data-stu-id="d62c4-128">**Render Thread - CPU to GPU** - Responsible for submitting your draw calls to the GPU.</span></span> <span data-ttu-id="d62c4-129">Lorsque votre application souhaite effectuer le rendu d’un objet tel qu’un cube ou un modèle, ce thread envoie une demande au GPU pour effectuer les opérations.</span><span class="sxs-lookup"><span data-stu-id="d62c4-129">When your app wants to render an object such as a cube or model, this thread sends a request to the GPU to do the operations.</span></span>
3. <span data-ttu-id="d62c4-130">Le **GPU** , le plus souvent, gère le pipeline graphique de votre application pour transformer des données 3D (modèles, textures, etc.) en pixels.</span><span class="sxs-lookup"><span data-stu-id="d62c4-130">**GPU** - Most commonly handles the graphics pipeline of your application to transform 3D data (models, textures, and so on) into pixels.</span></span> <span data-ttu-id="d62c4-131">Il produit finalement une image 2D à envoyer à l’écran de votre appareil.</span><span class="sxs-lookup"><span data-stu-id="d62c4-131">It ultimately produces a 2D image to submit to your device's screen.</span></span>

![Durée de vie d’un frame](images/lifetime-of-a-frame.png)

<span data-ttu-id="d62c4-133">En règle générale, les applications HoloLens sont liées au GPU, mais pas toujours.</span><span class="sxs-lookup"><span data-stu-id="d62c4-133">Generally, HoloLens applications will be GPU bound, but not always.</span></span> <span data-ttu-id="d62c4-134">Utilisez les outils et les techniques ci-dessous pour comprendre où votre application particulière est engorgée.</span><span class="sxs-lookup"><span data-stu-id="d62c4-134">Use the tools and techniques below to understand where your particular app is bottlenecked.</span></span>

## <a name="how-to-analyze-your-application"></a><span data-ttu-id="d62c4-135">Comment analyser votre application</span><span class="sxs-lookup"><span data-stu-id="d62c4-135">How to analyze your application</span></span>

<span data-ttu-id="d62c4-136">De nombreux outils vous permettent de comprendre le profil de performances et les goulots d’étranglement potentiels dans votre application de réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="d62c4-136">There are many tools that allow you to understand the performance profile and potential bottlenecks in your mixed reality application.</span></span> 

<span data-ttu-id="d62c4-137">Voici quelques outils courants pour vous aider à recueillir des informations de profilage détaillés pour votre application :</span><span class="sxs-lookup"><span data-stu-id="d62c4-137">Below are some common tools to help you gather deep profiling information for your application:</span></span>
- [<span data-ttu-id="d62c4-138">Analyseurs de performances graphiques Intel</span><span class="sxs-lookup"><span data-stu-id="d62c4-138">Intel Graphics Performance Analyzers</span></span>](https://software.intel.com/gpa)
- [<span data-ttu-id="d62c4-139">Débogueurs graphiques Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d62c4-139">Visual Studio Graphics Debuggers</span></span>](/visualstudio/debugger/graphics/visual-studio-graphics-diagnostics)
- [<span data-ttu-id="d62c4-140">Profileur Unity</span><span class="sxs-lookup"><span data-stu-id="d62c4-140">Unity Profiler</span></span>](https://docs.unity3d.com/Manual/Profiler.html)
- [<span data-ttu-id="d62c4-141">Débogueur de frames Unity</span><span class="sxs-lookup"><span data-stu-id="d62c4-141">Unity Frame Debugger</span></span>](https://docs.unity3d.com/Manual/FrameDebugger.html)
- [<span data-ttu-id="d62c4-142">Insights inréel</span><span class="sxs-lookup"><span data-stu-id="d62c4-142">Unreal Insights</span></span>](../unreal/unreal-insights.md)
- [<span data-ttu-id="d62c4-143">PHOTO</span><span class="sxs-lookup"><span data-stu-id="d62c4-143">PIX</span></span>](https://devblogs.microsoft.com/pix/)
- [<span data-ttu-id="d62c4-144">Pofiling GPU en non réel</span><span class="sxs-lookup"><span data-stu-id="d62c4-144">GPU Pofiling in Unreal</span></span>](https://docs.unrealengine.com/en-US/TestingAndOptimization/PerformanceAndProfiling/GPU/index.html)

### <a name="how-to-profile-in-any-environment"></a><span data-ttu-id="d62c4-145">Comment Profiler dans n’importe quel environnement</span><span class="sxs-lookup"><span data-stu-id="d62c4-145">How to profile in any environment</span></span>

<span data-ttu-id="d62c4-146">Une façon de déterminer si votre application est liée au GPU ou à l’UC est de réduire la résolution de la sortie de la cible de rendu.</span><span class="sxs-lookup"><span data-stu-id="d62c4-146">One way to determine if your app is GPU or CPU bound is to lower the resolution of the render target output.</span></span> <span data-ttu-id="d62c4-147">En réduisant le nombre de pixels à calculer, vous réduisez la charge du GPU.</span><span class="sxs-lookup"><span data-stu-id="d62c4-147">By reducing the number of pixels to calculate, you'll reduce your GPU load.</span></span> <span data-ttu-id="d62c4-148">L’appareil est rendu sur une texture plus petite, puis sur un échantillon pour afficher votre image finale.</span><span class="sxs-lookup"><span data-stu-id="d62c4-148">The device will render to a smaller texture, then up-sample to display your final image.</span></span>

<span data-ttu-id="d62c4-149">Après avoir réduit la résolution de rendu, si :</span><span class="sxs-lookup"><span data-stu-id="d62c4-149">After lowering rendering resolution, if:</span></span>
1) <span data-ttu-id="d62c4-150">L’application de fréquence d’images **augmente**, vous êtes probablement **lié au GPU**</span><span class="sxs-lookup"><span data-stu-id="d62c4-150">Application framerate **increases**, then you're likely **GPU Bound**</span></span>
1) <span data-ttu-id="d62c4-151">Fréquence d’application **inchangée**, vous êtes probablement lié à l' **UC**</span><span class="sxs-lookup"><span data-stu-id="d62c4-151">Application framerate **unchanged**, then you're likely **CPU Bound**</span></span>

>[!NOTE]
><span data-ttu-id="d62c4-152">Unity offre la possibilité de modifier facilement la résolution de la cible de rendu de votre application au moment de l’exécution via la propriété *[XRSettings. renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* .</span><span class="sxs-lookup"><span data-stu-id="d62c4-152">Unity provides the ability to easily modify the render target resolution of your application at runtime through the *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property.</span></span> <span data-ttu-id="d62c4-153">La résolution de l’image finale présentée sur l’appareil est fixe.</span><span class="sxs-lookup"><span data-stu-id="d62c4-153">The final image presented on device has a fixed resolution.</span></span> <span data-ttu-id="d62c4-154">La plateforme échantillonne la sortie de résolution inférieure pour générer une image de résolution supérieure pour le rendu sur les affichages.</span><span class="sxs-lookup"><span data-stu-id="d62c4-154">The platform will sample the lower resolution output to build a higher resolution image for rendering on displays.</span></span> 
>
>```CS
>UnityEngine.XR.XRSettings.renderScale = 0.7f;
>```

## <a name="how-to-improve-your-application"></a><span data-ttu-id="d62c4-155">Comment améliorer votre application</span><span class="sxs-lookup"><span data-stu-id="d62c4-155">How to improve your application</span></span>

### <a name="cpu-performance-recommendations"></a><span data-ttu-id="d62c4-156">Recommandations sur les performances de processeur</span><span class="sxs-lookup"><span data-stu-id="d62c4-156">CPU performance recommendations</span></span>

<span data-ttu-id="d62c4-157">En règle générale, la plupart des travaux dans une application de réalité mixte sur l’UC impliquent la « simulation » de la scène et le traitement de votre logique d’application.</span><span class="sxs-lookup"><span data-stu-id="d62c4-157">Generally, most work in a mixed reality application on the CPU involves doing the "simulation" of the scene and processing your application logic.</span></span> <span data-ttu-id="d62c4-158">Les éléments suivants sont ciblés pour l’optimisation :</span><span class="sxs-lookup"><span data-stu-id="d62c4-158">The following areas are targeted for optimization:</span></span>

- <span data-ttu-id="d62c4-159">Animations</span><span class="sxs-lookup"><span data-stu-id="d62c4-159">Animations</span></span>
- <span data-ttu-id="d62c4-160">Physique</span><span class="sxs-lookup"><span data-stu-id="d62c4-160">Physics</span></span>
- <span data-ttu-id="d62c4-161">Allocations de mémoire</span><span class="sxs-lookup"><span data-stu-id="d62c4-161">Memory allocations</span></span>
- <span data-ttu-id="d62c4-162">Algorithmes complexes (c.-à-d.</span><span class="sxs-lookup"><span data-stu-id="d62c4-162">Complex algorithms (i.e</span></span> <span data-ttu-id="d62c4-163">cinématique inverse, recherche de chemin d’accès)</span><span class="sxs-lookup"><span data-stu-id="d62c4-163">inverse kinematics, path-finding)</span></span>

### <a name="gpu-performance-recommendations"></a><span data-ttu-id="d62c4-164">Recommandations sur les performances de GPU</span><span class="sxs-lookup"><span data-stu-id="d62c4-164">GPU performance recommendations</span></span>

#### <a name="understanding-bandwidth-vs-fill-rate"></a><span data-ttu-id="d62c4-165">Fonctionnement de la bande passante et du taux de remplissage</span><span class="sxs-lookup"><span data-stu-id="d62c4-165">Understanding bandwidth vs. fill rate</span></span>
<span data-ttu-id="d62c4-166">Lors du rendu d’une trame sur le GPU, une application est liée par une bande passante de mémoire ou un taux de remplissage.</span><span class="sxs-lookup"><span data-stu-id="d62c4-166">When rendering a frame on the GPU, an application is either bound by memory bandwidth or fill rate.</span></span>

- <span data-ttu-id="d62c4-167">La **bande passante** de la mémoire est le taux de lectures et d’écritures que le GPU peut effectuer à partir de la mémoire</span><span class="sxs-lookup"><span data-stu-id="d62c4-167">**Memory bandwidth** is the rate of reads and writes the GPU can do from memory</span></span>
    - <span data-ttu-id="d62c4-168">Pour identifier les limitations de bande passante, réduisez la qualité de la texture et vérifiez si la fréquence d’images a été améliorée.</span><span class="sxs-lookup"><span data-stu-id="d62c4-168">To identify bandwidth limitations, reduce texture quality and check if the framerate has improved.</span></span>
    - <span data-ttu-id="d62c4-169">Dans Unity, modifiez la **qualité** de la texture dans **modifier** les paramètres du  >  **projet**  >  **[paramètres de qualité](https://docs.unity3d.com/Manual/class-QualitySettings.html)**.</span><span class="sxs-lookup"><span data-stu-id="d62c4-169">In Unity, change **Texture Quality** in **Edit** > **Project Settings** > **[Quality Settings](https://docs.unity3d.com/Manual/class-QualitySettings.html)**.</span></span>
- <span data-ttu-id="d62c4-170">Le **taux de remplissage** fait référence aux pixels qui peuvent être dessinés par seconde par le GPU.</span><span class="sxs-lookup"><span data-stu-id="d62c4-170">**Fill rate** refers to the pixels that can be drawn per second by the GPU.</span></span>
    - <span data-ttu-id="d62c4-171">Pour identifier les limitations du taux de remplissage, réduisez la résolution de l’affichage et vérifiez si les images sont améliorées.</span><span class="sxs-lookup"><span data-stu-id="d62c4-171">To identify fill rate limitations, lower the display resolution and check if framerate improved.</span></span> 
    - <span data-ttu-id="d62c4-172">Dans Unity, utilisez la propriété *[XRSettings. renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)*</span><span class="sxs-lookup"><span data-stu-id="d62c4-172">In Unity, use the  *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property</span></span>

<span data-ttu-id="d62c4-173">La bande passante de la mémoire implique généralement des optimisations pour :</span><span class="sxs-lookup"><span data-stu-id="d62c4-173">Memory bandwidth generally involves optimizations to either:</span></span>
1) <span data-ttu-id="d62c4-174">Résolutions de texture inférieures</span><span class="sxs-lookup"><span data-stu-id="d62c4-174">Lower texture resolutions</span></span>
2) <span data-ttu-id="d62c4-175">Utilisez moins de textures (normales, spéculaire, etc.)</span><span class="sxs-lookup"><span data-stu-id="d62c4-175">Use fewer textures (normals, specular, and so on)</span></span>

<span data-ttu-id="d62c4-176">Le taux de remplissage est axé sur la réduction du nombre d’opérations qui doivent être calculées pour un pixel final rendu, notamment :</span><span class="sxs-lookup"><span data-stu-id="d62c4-176">Fill rate is focused on reducing the number of operations that need to be computed for a final rendered pixel, including:</span></span>
1) <span data-ttu-id="d62c4-177">Nombre d’objets à restituer/traiter</span><span class="sxs-lookup"><span data-stu-id="d62c4-177">Number of objects to render/process</span></span>
2) <span data-ttu-id="d62c4-178">Nombre d’opérations par nuanceur</span><span class="sxs-lookup"><span data-stu-id="d62c4-178">Number of operations per shader</span></span>
3) <span data-ttu-id="d62c4-179">Nombre d’étapes du GPU vers le résultat final (nuanceurs Geometry, effets de la postérieure au traitement, etc.)</span><span class="sxs-lookup"><span data-stu-id="d62c4-179">Number of GPU stages to final result (geometry shaders, post-processing effects, and so on)</span></span>
4) <span data-ttu-id="d62c4-180">Nombre de pixels à afficher (résolution d’affichage)</span><span class="sxs-lookup"><span data-stu-id="d62c4-180">Number of pixels to render (display resolution)</span></span>

#### <a name="reduce-polygon-count"></a><span data-ttu-id="d62c4-181">Réduire le nombre de polygones</span><span class="sxs-lookup"><span data-stu-id="d62c4-181">Reduce polygon count</span></span>

<span data-ttu-id="d62c4-182">Plus le nombre de polygones est élevé, plus il est important d’opérations pour le GPU, donc le fait de [réduire le nombre de polygones](/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets) dans votre scène réduit le temps de rendu.</span><span class="sxs-lookup"><span data-stu-id="d62c4-182">Higher polygon counts result in more operations for the GPU, so [reducing the number of polygons](/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets) in your scene reduces the render time.</span></span> <span data-ttu-id="d62c4-183">Il existe d’autres facteurs qui rendent l’ombrage de la géométrie cher, mais le nombre de polygones est la mesure la plus simple pour déterminer la quantité de travail nécessaire au rendu d’une scène.</span><span class="sxs-lookup"><span data-stu-id="d62c4-183">There are other factors that make shading the geometry expensive, but polygon count is the simplest metric to determine how much work it will take to render a scene.</span></span>

#### <a name="limit-overdraw"></a><span data-ttu-id="d62c4-184">Limiter le surdessin</span><span class="sxs-lookup"><span data-stu-id="d62c4-184">Limit overdraw</span></span>

<span data-ttu-id="d62c4-185">Un surdessin élevé se produit lorsque plusieurs objets sont rendus mais non affichés à l’écran, car ils sont masqués par un objet Boucher.</span><span class="sxs-lookup"><span data-stu-id="d62c4-185">High overdraw occurs when multiple objects are rendered but not shown on screen as they're hidden by an occluding object.</span></span> <span data-ttu-id="d62c4-186">Imaginez que vous examinez un mur qui contient des objets en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="d62c4-186">Imagine looking at a wall that has objects behind it.</span></span> <span data-ttu-id="d62c4-187">Toute la géométrie est traitée pour le rendu, mais seul le mur opaque doit être rendu, ce qui entraîne des opérations inutiles.</span><span class="sxs-lookup"><span data-stu-id="d62c4-187">All of the geometry would be processed for rendering, but only the opaque wall needs to be rendered, which results in unnecessary operations.</span></span>

#### <a name="shaders"></a><span data-ttu-id="d62c4-188">Nuanceurs</span><span class="sxs-lookup"><span data-stu-id="d62c4-188">Shaders</span></span>

<span data-ttu-id="d62c4-189">Les nuanceurs sont des petits programmes qui s’exécutent sur le GPU et effectuent deux étapes importantes du rendu :</span><span class="sxs-lookup"><span data-stu-id="d62c4-189">Shaders are small programs that run on the GPU and do two important steps in rendering:</span></span>
1) <span data-ttu-id="d62c4-190">Détermination des vertex à dessiner et de leur emplacement dans l’espace à l’écran (le nuanceur de sommets)</span><span class="sxs-lookup"><span data-stu-id="d62c4-190">Determining which vertices should be drawn and where they are in screen space (the Vertex shader)</span></span>
    - <span data-ttu-id="d62c4-191">Le nuanceur de sommets est exécuté par vertex pour chaque maille.</span><span class="sxs-lookup"><span data-stu-id="d62c4-191">The Vertex shader is executed per vertex for every mesh.</span></span>
2) <span data-ttu-id="d62c4-192">Détermination de la couleur de chaque pixel (nuanceur de pixels)</span><span class="sxs-lookup"><span data-stu-id="d62c4-192">Determining the color of each pixel (the Pixel shader)</span></span>
    - <span data-ttu-id="d62c4-193">Le nuanceur de pixels est exécuté par pixel et est rendu par la géométrie à la texture de rendu cible.</span><span class="sxs-lookup"><span data-stu-id="d62c4-193">The Pixel shader is executed per pixel and rendered by the geometry to the target render texture.</span></span>

<span data-ttu-id="d62c4-194">En règle générale, les nuanceurs effectuent de nombreuses transformations et des calculs d’éclairage.</span><span class="sxs-lookup"><span data-stu-id="d62c4-194">Typically, shaders do many transformations and lighting calculations.</span></span> <span data-ttu-id="d62c4-195">Bien que les modèles d’éclairage complexes, les ombres et les autres opérations puissent générer des résultats fantastiques, ils sont également fournis avec un prix.</span><span class="sxs-lookup"><span data-stu-id="d62c4-195">Although complex lighting models, shadows, and other operations can generate fantastic results, they also come with a price.</span></span> <span data-ttu-id="d62c4-196">La réduction du nombre d’opérations calculées dans les nuanceurs peut réduire considérablement le travail nécessaire pour le GPU par trame.</span><span class="sxs-lookup"><span data-stu-id="d62c4-196">Reducing the number of operations computed in shaders can greatly reduce the work needed for the GPU per frame.</span></span>

##### <a name="shader-coding-recommendations"></a><span data-ttu-id="d62c4-197">Recommandations en matière de codage de nuanceur</span><span class="sxs-lookup"><span data-stu-id="d62c4-197">Shader coding recommendations</span></span>

- <span data-ttu-id="d62c4-198">Utiliser le filtrage bilinéaire, dans la mesure du possible</span><span class="sxs-lookup"><span data-stu-id="d62c4-198">Use bilinear filtering, whenever possible</span></span>
- <span data-ttu-id="d62c4-199">Réorganiser les expressions pour utiliser des intrinsèques MAD pour effectuer une multiplication et un ajout en même temps</span><span class="sxs-lookup"><span data-stu-id="d62c4-199">Rearrange expressions to use MAD intrinsics to do a multiply and an add at the same time</span></span>
- <span data-ttu-id="d62c4-200">Précalculez autant que possible sur le processeur et transmettez-les en tant que constantes au matériel.</span><span class="sxs-lookup"><span data-stu-id="d62c4-200">Precalculate as much as possible on the CPU and pass as constants to the material</span></span>
- <span data-ttu-id="d62c4-201">**Privilégier les opérations de déplacement du nuanceur de pixels vers le nuanceur de sommets**</span><span class="sxs-lookup"><span data-stu-id="d62c4-201">**Favor moving operations from the pixel shader to the vertex shader**</span></span>
    - <span data-ttu-id="d62c4-202">En règle générale, le nombre de vertex est bien plus petit que le nombre de pixels (720p est de 921 600 pixels, 1080p correspond à 2 073 600 pixels, etc.)</span><span class="sxs-lookup"><span data-stu-id="d62c4-202">Generally, the number of vertices is much smaller than the number of pixels (720p is 921,600 pixels, 1080p is 2,073,600 pixels, and so on)</span></span>

#### <a name="remove-gpu-stages"></a><span data-ttu-id="d62c4-203">Supprimer les étapes du GPU</span><span class="sxs-lookup"><span data-stu-id="d62c4-203">Remove GPU stages</span></span>

<span data-ttu-id="d62c4-204">Les effets postérieurs au traitement peuvent être coûteux et augmenter le taux de remplissage de votre application, y compris les techniques d’anticrénelage telles que MSAA.</span><span class="sxs-lookup"><span data-stu-id="d62c4-204">Post-processing effects can be expensive and increase the fill rate of your application, including anti-aliasing techniques like MSAA.</span></span> <span data-ttu-id="d62c4-205">Sur HoloLens, nous vous recommandons d’éviter ces techniques et d’autres étapes de nuanceur, telles que Geometry, la coque et les nuanceurs de calcul.</span><span class="sxs-lookup"><span data-stu-id="d62c4-205">On HoloLens, we recommended avoiding these techniques and additional shader stages such as geometry, hull, and compute shaders.</span></span>

## <a name="memory-recommendations"></a><span data-ttu-id="d62c4-206">Recommandations sur la mémoire</span><span class="sxs-lookup"><span data-stu-id="d62c4-206">Memory recommendations</span></span>

<span data-ttu-id="d62c4-207">Les opérations d’allocation et de désallocation de mémoire excessives peuvent entraîner des performances incohérentes, des frames figés et d’autres comportements nuisibles.</span><span class="sxs-lookup"><span data-stu-id="d62c4-207">Excessive memory allocation and deallocation operations can result in inconsistent performance, frozen frames, and other detrimental behavior.</span></span> <span data-ttu-id="d62c4-208">Il est particulièrement important de comprendre les considérations relatives à la mémoire lors du développement dans Unity, car la gestion de la mémoire est contrôlée par le garbage collector.</span><span class="sxs-lookup"><span data-stu-id="d62c4-208">It's especially important to understand memory considerations when developing in Unity, since memory management is controlled by the garbage collector.</span></span>

#### <a name="object-pooling"></a><span data-ttu-id="d62c4-209">Mise en pool d’objets</span><span class="sxs-lookup"><span data-stu-id="d62c4-209">Object pooling</span></span>

<span data-ttu-id="d62c4-210">Le mise en pool d’objets est une technique populaire pour réduire le coût des allocations et des désallocations continues d’objets.</span><span class="sxs-lookup"><span data-stu-id="d62c4-210">Object pooling is a popular technique to reduce the cost of continuous allocations and deallocations of objects.</span></span> <span data-ttu-id="d62c4-211">Pour la réaliser, vous devez allouer un grand pool d’objets identiques et réutiliser des instances inactives disponibles de ce pool au lieu de générer et détruire constamment des objets au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="d62c4-211">This is done by allocating a large pool of identical objects and reusing inactive, available instances from this pool instead of constantly spawning and destroying objects over time.</span></span> <span data-ttu-id="d62c4-212">Les pools d’objets conviennent parfaitement aux composants réutilisables qui ont une durée de vie variable pendant une application.</span><span class="sxs-lookup"><span data-stu-id="d62c4-212">Object pools are great for reuseable components that have variable lifetime during an app.</span></span>

## <a name="see-also"></a><span data-ttu-id="d62c4-213">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="d62c4-213">See also</span></span>
- [<span data-ttu-id="d62c4-214">Recommandations de performances pour Unity</span><span class="sxs-lookup"><span data-stu-id="d62c4-214">Performance recommendations for Unity</span></span>](../unity/performance-recommendations-for-unity.md)
- [<span data-ttu-id="d62c4-215">Paramètres recommandés pour Unity</span><span class="sxs-lookup"><span data-stu-id="d62c4-215">Recommended settings for Unity</span></span>](../unity/recommended-settings-for-unity.md)
- [<span data-ttu-id="d62c4-216">Recommandations sur les performances pour Unreal</span><span class="sxs-lookup"><span data-stu-id="d62c4-216">Performance recommendations for Unreal</span></span>](../unreal/performance-recommendations-for-unreal.md)
- [<span data-ttu-id="d62c4-217">Recommandations matérielles dans Unreal</span><span class="sxs-lookup"><span data-stu-id="d62c4-217">Material recommendations in Unreal</span></span>](../unreal/unreal-materials.md)
- [<span data-ttu-id="d62c4-218">Optimiser les modèles 3D</span><span class="sxs-lookup"><span data-stu-id="d62c4-218">Optimize 3D models</span></span>](/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets)
- [<span data-ttu-id="d62c4-219">Meilleures pratiques pour la conversion et l’optimisation des modèles 3D en temps réel</span><span class="sxs-lookup"><span data-stu-id="d62c4-219">Best practices for converting and optimizing real-time 3D Models</span></span>](/dynamics365/mixed-reality/import-tool/best-practices)
- [<span data-ttu-id="d62c4-220">Instructions relatives aux performances pour les artistes et les concepteurs pour les</span><span class="sxs-lookup"><span data-stu-id="d62c4-220">Performance guidelines for artists and designers for Unreal</span></span>](https://docs.unrealengine.com/en-US/TestingAndOptimization/PerformanceAndProfiling/Guidelines/index.html)
- [<span data-ttu-id="d62c4-221">Bonnes pratiques pour les</span><span class="sxs-lookup"><span data-stu-id="d62c4-221">VR best practices for Unreal</span></span>](https://docs.unrealengine.com/en-US/SharingAndReleasing/XRDevelopment/VR/DevelopVR/ContentSetup/index.html)